.\" Automatically generated by Pandoc 3.1.4
.\"
.\" Define V font for inline verbatim, using C font in formats
.\" that render this, and otherwise B font.
.ie "\f[CB]x\f[]"x" \{\
. ftr V B
. ftr VI BI
. ftr VB B
. ftr VBI BI
.\}
.el \{\
. ftr V CR
. ftr VI CI
. ftr VB CB
. ftr VBI CBI
.\}
.TH "ep3util" "1" "2023-09-26" "irdmtools user manual" "version 0.0.55 aa9582f"
.hy
.SH NAME
.PP
ep3util
.SH SYNOPSIS
.PP
ep3util OPTIONS ACTION [ACTION_PARAMETERS \&...]
.SH DESCRIPTION
.PP
\f[B]ep3util\f[R] provides a quick wrapper around EPrints 3.3 REST API.
By default ep3util looks for five environment variables.
.TP
REPO_ID
the EPrints repository id (name of database and archive subdirectory).
.TP
EPRINT_HOST
the hostname for EPrint\[cq]s.
.TP
EPRINT_USER
the username having permissions to access the EPrint REST API.
.TP
EPRINT_PASSWORD
the password for the username with access to the EPrint REST API.
.TP
C_NAME
If harvesting the dataset collection name to harvest the records to.
.PP
The environment provides the default values for configuration.
They maybe overwritten by using a JSON configuration file.
The corresponding attributes are \[lq]repo_id\[rq],
\[lq]eprint_host\[rq] and \[lq]c_name\[rq].
.SH OPTIONS
.TP
help
display help
.TP
license
display license
.TP
version
display version
.TP
config
provide a path to an alternate configuration file
(e.g.\ \[lq]rdmtools.json\[rq])
.SH ACTION
.PP
\f[B]ep3util\f[R] supports the following actions.
.TP
setup
Display an example JSON setup configuration file, if it already exists
then it will display the current configuration file.
No optional or required parameters.
When displaying the JSON configuration a placeholder will be used for
the token value.
.TP
get_all_ids
Returns a list of all repository record ids.
The method uses OAI-PMH for id retrieval.
It is rate limited and will take come time to return all record ids.
A test instance took 11 minutes to retrieve 24000 record ids.
.TP
get_record RECORD_ID
Returns a specific simplified record indicated by RECORD_ID,
e.g.\ 23808.
The REORCID_ID is a required parameter.
.TP
harvest KEY_LIST_JSON
harvest takes a JSON file containing a list of keys and harvests each
record into the dataset collection.
.SH ACTION_PARAMETERS
.PP
Action parameters are the specific optional or required parameters need
to complete an aciton.
.SH EXAMPLES
.PP
Setup for \f[B]ep3util\f[R] by writing an example JSON configuration
file.
\[lq]nano\[rq] is an example text editor program, you need to edit the
sample configuration appropriately.
.IP
.nf
\f[C]
ep3util setup >eprinttools.json
nano eprinttools.json
\f[R]
.fi
.PP
Get a list of all EPrint record ids.
.IP
.nf
\f[C]
ep3util get_all_ids
\f[R]
.fi
.PP
Get a specific EPrint record.
Record is validated against irdmtool EPrints data model.
.IP
.nf
\f[C]
ep3util get_record 23808
\f[R]
.fi
.SH AUTHORS
R. S. Doiel and Tom Morrell.
